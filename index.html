<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RentForm Script - Main</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="container">

    <h1>Пример многошаговой формы
      <button class="btn admin-btn" id="adminSettingsBtn">Admin Settings</button>
    </h1>

    <div id="formSteps">
      <!-- Сюда динамически вставятся шаги формы -->
      Шаги формы будут показаны тут…
    </div>

    <button class="btn btn-secondary" id="prevBtn">Назад</button>
    <button class="btn btn-secondary" id="nextBtn">Далее</button>
    <button class="btn btn-primary" id="submitBtn">Отправить</button>
  </div>

  <!-- Подключение всех JS-файлов -->
  <!-- Сначала конфиги/ключи, затем скрипты с логикой формы -->
  <script src="./ctm-api-config.js"></script>
  <script src="./firebase-config.js"></script>
  <script src="./google-maps-key.js"></script>
  <script src="./maps-config.js"></script>
  <script src="./ctm-fields-sync.js"></script>
  <script src="./form-handler.js"></script>

  <script>
    // Если в ctm-api-config.js нет заранее прописанных ключей,
    // при необходимости можно запросить у пользователя:
    if (!window.ctmApiConfig || !window.ctmApiConfig.accessKey) {
      const userKey = prompt("Введите ваш CTM AccessKey (или user) для ctmApiConfig:");
      if (userKey) {
        window.ctmApiConfig = window.ctmApiConfig || {};
        window.ctmApiConfig.accessKey = userKey;
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Инициируем многошаговую форму (описано в form-handler.js)
      initMultiStepForm({
        formContainerId: 'formSteps',
        prevBtnId: 'prevBtn',
        nextBtnId: 'nextBtn',
        submitBtnId: 'submitBtn',
        adminBtnId: 'adminSettingsBtn'
      });
    });
  </script>
</body>
</html>
